(function(){var r;r=angular.module("skinnyBlog",["ui.router"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$provide",function(r,t,e,n){return e.html5Mode(!0),r.state("articles",{url:"/",templateUrl:"partials/articles.html",controller:"ArticlesController as articles"}).state("article",{url:"/{year:[0-9]{4}}/{month:[0-9]{2}}/:title",templateUrl:"partials/article.html",controller:"ArticleController as article"}),n.decorator("$q",["$delegate",function(r){var t;return t=r.defer,r.defer=function(){var r;return r=t(),r.promise.success=function(t){return r.promise.then(t),r.promise},r.promise.error=function(t){return r.promise.then(null,t),r.promise},r},r}])}])}).call(this),function(){angular.module("skinnyBlog").factory("ApiService",["$http","$cacheFactory","$q",function(r,t,e){var n;return new(n=function(){function n(){this.cache=t("apiServiceCache")}return n.prototype.getArticles=function(){return this.cacheOrPerform("articles",function(t){return function(){var n;return n=e.defer(),r.get("/api/articles").success(function(r){var e,i,l,c;for(c=r.articles,i=0,l=c.length;l>i;i++)e=c[i],t.cache.put("article:"+e.slug,{article:e});return n.resolve(r)}).error(function(r){return n.reject(r)}),n.promise}}(this))},n.prototype.getArticle=function(t,e,n){var i;return null==e&&(e=null),null==n&&(n=null),i=null!==e&&null!==n?t+"/"+e+"/"+n:t,this.cacheOrPerform("article:"+i,function(){return r.get("/api/articles/"+i)})},n.prototype.cacheOrPerform=function(r,t){var e;return e=this.cache.get(r),void 0===e&&(e=t(),this.cache.put(r,e)),e},n}())}])}.call(this),function(){angular.module("skinnyBlog").controller("ArticleController",["$stateParams","ApiService",function(r,t){var e;return new(e=function(){function e(){t.getArticle(r.year,r.month,r.title).success(function(r){return function(t){return r.putArticleInScope(t.article)}}(this)).error(function(r){return console.log(r)})}return e.prototype.putArticleInScope=function(r){return this.title=r.title,this.text=r.text},e}())}])}.call(this),function(){angular.module("skinnyBlog").controller("ArticlesController",["ApiService",function(r){var t;return new(t=function(){function t(){this.all=null,r.getArticles().success(function(r){return function(t){return r.all=t.articles}}(this)).error(function(r){return function(){return r.all=!1}}(this))}return t}())}])}.call(this);
//# sourceMappingURL=app.min.js.map